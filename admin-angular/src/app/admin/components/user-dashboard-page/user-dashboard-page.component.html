<div class="d-flex flex-column">
  <div class="mt-3 mb-4 container">

    <div class="row mb-3">

      <div class="col"><h1 class="mb-3">Users</h1></div>
      <div class="col-auto">
        <a
          class="btn btn-outline-primary"
          [routerLink]="['/admin', 'new-user']"
        >
          Create a User
        </a>
      </div>
    </div>

    <mat-table
      class="mb-2"
      [dataSource]="itemsList"
    >
      <ng-container matColumnDef="id">
        <mat-header-cell *matHeaderCellDef>ID</mat-header-cell>
        <mat-cell class="mat-column-userid" *matCellDef="let user">{{user.id}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="role">
        <mat-header-cell *matHeaderCellDef>Role</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.role}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="createdAt">
        <mat-header-cell *matHeaderCellDef>Created</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.createdAt | date: 'short'}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="name">
        <mat-header-cell *matHeaderCellDef>Name</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.name}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="email">
        <mat-header-cell *matHeaderCellDef>Email</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.email}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="categories">
        <mat-header-cell *matHeaderCellDef>Ignored categories</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.categories | arrayToString}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="tags">
        <mat-header-cell *matHeaderCellDef>Ignored tags</mat-header-cell>
        <mat-cell *matCellDef="let user">{{user.tags | arrayToString}}</mat-cell>
      </ng-container>
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef>Actions</mat-header-cell>
        <mat-cell *matCellDef="let user" class="text-nowrap">
          <a class="btn btn-outline-primary me-2"
             [routerLink]="['/admin', 'user', user.id]">
            Edit
          </a>

          <button type="button" class="btn btn-danger"
                  (click)="openDeleteModal(user, 'user', user.email)">
            Delete
          </button>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let user; columns: displayedColumns;"></mat-row>
    </mat-table>

  </div>
  <div class="mt-4">
    <app-dashboard-paginator
      [length]="paginatorSettings.length"
      [pageSize]="paginatorSettings.pageSize"
      [pageIndex]="paginatorSettings.pageIndex"
      (pageChanged)="pageChanged($event)"
    >
    </app-dashboard-paginator>
  </div>
</div>




